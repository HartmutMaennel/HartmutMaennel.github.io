<!DOCTYPE html> 
<html> 
<head> 
	<meta charset="utf-8"> 
	<title>Guessing Game</title> 

	<style> 
		html { 
	font-family: sans-serif; 
	} 
	
    body { 
	width: 50%; 
	max-width: 800px; 
	min-width: 480px; 
	margin: 0 auto; 
	} 
    .properties {
	  margin-bottom: 20px;
	  text-align: left;
	  display: inline-block;
	}
	.properties label{
	  display: block;
	  margin-bottom: 10px;
	}
	</style> 
</head> 

<body> 
<h1>Guess The Ring</h1> 

<p>We have selected a random commutative ring with 1.
 You can ask about 5 properties, see whether you can then guess the ring.</p> 
<p>You can ask about the following properties:<br/>
<div id="quiz" class="properties"> 
	<label><input type="radio" name="property" value="1" >Reduced</label>
	<label><input type="radio" name="property" value="2" >Integral Domain</label>
	<label><input type="radio" name="property" value="3" >Unique Factorization Domain</label>
	<label><input type="radio" name="property" value="4" >Dedekind</label>
	<label><input type="radio" name="property" value="5" >Principal Ideal Domain</label>
	<label><input type="radio" name="property" value="6" >Field</label>
	<label><input type="radio" name="property" value="7" >Characteristic 0</label>
	<label><input type="radio" name="property" value="8" >Local Ring</label>
	<label><input type="radio" name="property" value="9" >Discrete Valuation Ring</label>
	<label><input type="radio" name="property" value="10" >Regular Local Ring</label>
	<label><input type="radio" name="property" value="11" >Cohen-Macaulay Ring</label>
	<label><input type="radio" name="property" value="12" >Noetherian</label>
	<label><input type="radio" name="property" value="13" >Artinian</label>
	<label><input type="radio" name="property" value="14" >Finite Krull Dimension</label>
</div>
</p>

<div class="form"> 
	<input type = "submit" value = "Submit question"
		class = "guessSubmit" id = "submitguess"/> 
	<br/>
	<label id="answers"></label>
</div> 


<script type = "text/javascript"> 
    var n_questions = 2;
    var properties = [
 	 "Noetherian", "Separated", "Affine", "Reduced", "Only one closed point"];
	var SpecC = {"Name": "Spec C",
	             "Noetherian": true, 
	             "Separated": true, 
				 "Affine": true, 
				 "Reduced": true, 
				 "Only one closed point": true	  
	};
    var SpecZ = {"Name": "Spec Z",
	             "Noetherian": true, 
	             "Separated": true, 
				 "Affine": true, 
				 "Reduced": true, 
				 "Only one closed point": false 
	};
	var thickPoint = {"Name": "the thick point Spec C[x]/(x^2)",
	             "Noetherian": true, 
	             "Separated": false, 
				 "Affine": true, 
				 "Reduced": true, 
				 "Only one closed point": true  
	};
	
	schemes = [SpecC, SpecZ, thickPoint];
	
    var n_schemes = 3; 
	var scheme = schemes[Math.floor(Math.random() * n_schemes)];

	var guess = 1; 
	var answers = "";

	document.getElementById("submitguess").onclick = function(){
	  if (guess <= n_questions) {
		  const quizContainer = document.getElementById("quiz");
		  const selector = "input:checked";
		  const userAnswer = (quizContainer.querySelector(selector) || {}).value;
			var x = userAnswer -1; 
			prop = properties[x];
			if (scheme[prop]) {
			  answers += "<br/><br/>" + properties[x] + ": Yes.";
			} else {
			  answers += "<br/><br/>" + properties[x] + ": No.";
			}
			label_answers = document.getElementById("answers");
			label_answers.innerHTML = answers;
			if (guess == n_questions) {
			  button = document.getElementById("submitguess");
			  button.value = "Show Scheme";
			  
			  // alert("Ok... do you know the scheme?");
			  // alert("It was " + scheme["Name"]);
			}
			guess++;
	  } else {
		 answers += "<br/><br/>It was " + scheme["Name"];
		 label_answers.innerHTML = answers;
		 button = document.getElementById("submitguess");
	     button.style.display = "none";
	  }
    } 
</script> 
</body> 
</html>					 
